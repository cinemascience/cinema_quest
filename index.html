<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <link rel='stylesheet' href='default.css'>
    <script src="d3.v4.min.js"></script>
    <script src="LineSpace.js"></script>
    <script src="FileLoad.js"></script>
</head>
   <body>
	   <div id="header">
			<h1>Output Explorer</h1>
			<select id="database">
				<option value="GF-HP/GF-HP.csv">GF-HP</option>
				<option value="GF-LP/GF-LP.csv">F-LP</option>
				<option value="LANLHigh-O/LANLHigh-O.csv">LANLHigh-O</option>
				<option value="LANLLow-O/LANLLow-O.csv">LANLLow-O</option>
				<option value="simresults/Al.design.1000.numbered.csv">Flag Simulation</option>
			</select>
		</div>
		<div id="spaceArea">
			<div id="spaceContainer"></div>
		</div>
   		<script>
   			var lineSpace = new LineSpace(d3.select("#spaceContainer"));

         	var q = d3.queue();
	            q.defer(d3.text, "data/data.txt");
	            q.defer(d3.text, "data/data.txt");
	            q.defer(d3.text, "data/data.txt");
	            q.defer(d3.text, "data/data.txt");
	            q.awaitAll(function(error, results) {
	            	if (!error) {
		            	var data = [];
			        	results.forEach(function(text, index) {
		               		var rows = d3.tsvParseRows(text).map(function(row) {
			            		return row.map(function(value) {
			            			return +value;
			               		});
			            	});

				            var rows2 = []
				            rows.forEach(function(item, index) {
				               rows2.push({x : item[0], y : item[1]});
				            });

				            var ds = {paramX: Math.random(), paramY: Math.random(), rows: rows2};
				            data.push(ds);
		           		});

		            	
			            lineSpace.data(data);
		            }
	            });

   		</script>
   </body>
</html>